# Система мониторинга внешнего периметра компании

Система для инвентаризации и мониторинга внешних ресурсов компании (IP-адреса, веб-сайты, SSL-сертификаты и другие службы), доступных из внешней сети.

## Основные возможности

- **Мониторинг IP-адресов**: Отслеживание изменений в доступности и конфигурации IP-адресов компании
- **Мониторинг веб-сайтов**: Проверка доступности, времени отклика и изменений контента веб-сайтов
- **Проверка SSL-сертификатов**: Мониторинг сроков действия и конфигурации SSL-сертификатов
- **Сканирование портов**: Обнаружение открытых портов на серверах периметра
- **Мониторинг DNS**: Отслеживание изменений в DNS-записях доменов компании
- **Проверка заголовков безопасности**: Анализ HTTP-заголовков безопасности на веб-сайтах
- **Веб-интерфейс**: Удобная панель управления для мониторинга и настройки
- **Система уведомлений**: Гибкая система оповещений через различные каналы (Email, Slack, Telegram)

## Структура проекта

```
perimeter_monitoring/
├── main.py                    # Основной модуль запуска
├── config.py                  # Файл конфигурации
├── modules/                   # Модули мониторинга
│   ├── ip_scanner.py          # Сканирование IP-адресов
│   ├── website_monitor.py     # Мониторинг веб-сайтов
│   ├── cert_checker.py        # Проверка SSL-сертификатов
│   ├── port_scanner.py        # Сканирование портов
│   ├── dns_monitor.py         # Мониторинг DNS
│   ├── security_headers.py    # Проверка заголовков безопасности
├── core/                      # Основные компоненты системы
│   ├── database.py            # Управление базой данных
│   ├── notification.py        # Система уведомлений
│   ├── scheduler.py           # Планировщик задач
├── dashboard/                 # Веб-интерфейс
│   ├── app.py                 # Flask-приложение
│   ├── templates/             # HTML-шаблоны
│   └── static/                # Статические файлы
├── tests/                     # Модульные и интеграционные тесты
└── requirements.txt           # Зависимости
```

## Установка и запуск

### Предварительные требования

- Python 3.9+
- pip
- База данных (SQLite, MySQL или PostgreSQL)

### Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/your-username/perimeter-monitoring.git
cd perimeter-monitoring
```

2. Создайте и активируйте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # На Linux/Mac
venv\Scripts\activate     # На Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Настройте конфигурацию:
```bash
cp .env.example .env
# Отредактируйте файл .env, указав необходимые параметры
```

### Запуск

1. Запуск системы мониторинга:
```bash
python main.py
```

2. Запуск только веб-интерфейса:
```bash
python dashboard/app.py
```

## Использование

После запуска веб-интерфейс будет доступен по адресу `http://localhost:5000`.

1. Войдите в систему, используя учетные данные администратора (по умолчанию admin/admin)
2. Настройте объекты мониторинга (IP-адреса, веб-сайты, сертификаты и т.д.)
3. Настройте параметры уведомлений
4. Запустите задачи мониторинга

## Настройка

Основные параметры конфигурации:

- `DATABASE_URI`: URI для подключения к базе данных
- `SECRET_KEY`: Секретный ключ для Flask
- `SCAN_INTERVAL`: Интервал сканирования в минутах
- `NOTIFICATION_CHANNELS`: Каналы для отправки уведомлений
- `LOG_LEVEL`: Уровень логирования

## Разработка

### Добавление нового модуля мониторинга

1. Создайте новый файл в директории `modules/`
2. Реализуйте класс монитора с методами `scan()` и `analyze_changes()`
3. Зарегистрируйте модуль в файле `main.py`

### Добавление нового канала уведомлений

1. Добавьте новый класс в `core/notification.py`
2. Реализуйте метод `send_notification()`
3. Зарегистрируйте канал в файле `config.py`

## Лицензия

Этот проект распространяется под лицензией MIT.